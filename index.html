<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Slogan</title>
    <style>
      * {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font: 14px/1.4 Helvetica, arial, serif;
      }
      #app {
        max-width: 700px;
        margin: 0 auto;
        padding: 40px 0;
      }
      .clearfix:after {
        content:  '';
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
      }
      h1 {
        margin-bottom: 60px;
      }
      .form, .result {
        width: 50%;
        float: left;
      }
      .result {
        padding-left: 20px;
      }
      .form-group label {
        font-weight: bold;
      }
      .form-group input, .form-group textarea  {
        display: block;
        width: 100%;
        margin: 10px 0;
        height: 30px;
        line-height: 30px;
        padding: 0 10px;
        outline: none;
        border: 1px solid #e2e2e2;
        border-radius: 2px;
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
      }
      .form-group input:focus, .form-group textarea:focus {
        border-color: #1385e5;
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 0 3px rgba(19, 133, 229, 0.1);
      }
      .form-group textarea {
        height: auto;
        line-height: 1.4;
        padding: 10px;
      }
      .form button {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background: none;
        border: 1px solid transparent;
        border-radius: 0.3em;
        cursor: pointer;
        display: inline-block;
        font-weight: 500;
        line-height: 2.3em;
        height: 2.4em;
        margin-bottom: 0;
        overflow: hidden;
        padding: 0 1em;
        text-align: center;
        touch-action: manipulation;
        vertical-align: middle;
        white-space: nowrap;
        -webkit-appearance: none;
        background-image: -webkit-linear-gradient(top, #fafafa 0%, #eaeaea 100%);
        background-image: -o-linear-gradient(top, #fafafa 0%, #eaeaea 100%);
        background-image: linear-gradient(to bottom, #fafafa 0%, #eaeaea 100%);
        background-repeat: repeat-x;
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffafafa', endColorstr='#ffeaeaea', GradientType=0);
        border: 1px solid #ccc;
        border-color: #ccc #bdbdbd #adadad;
        color: #333;
        text-shadow: 0 1px 0 white;
        outline: none;
      }
      .form button:hover {
        background-image: -webkit-linear-gradient(top, #fff 0%, #eee 100%);
        background-image: -o-linear-gradient(top, #fff 0%, #eee 100%);
        background-image: linear-gradient(to bottom, #fff 0%, #eee 100%);
        background-repeat: repeat-x;
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffeeeeee', GradientType=0);
        border-color: #bfbfbf #bfbfbf #b3b3b3;
        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
      }
      .tips {
        color: #999;
      }
      code {
        border-bottom: 1px dotted #ccc;
      }
    </style>
  </head>
  <body>
    <a href="https://github.com/egoist/slogan" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div id="app" class="clearfix">
      <h1>Slogan: generate logo for open-source projects</h1>
      <div class="form">
        <div class="form-group">
          <label>
            Background Color
            <input type="text" v-model="backgroundColor">
          </label>
        </div>
        <div class="form-group">
          <label>
            Font Size
          </label>
          <input type="text" v-model="fontSize">
        </div>
        <div class="form-group">
          <label>
            Font Color
          </label>
          <input type="text" v-model="fontColor">
        </div>
        <div class="form-group">
          <label>
            Font Family
          </label>
          <input type="text" v-model="fontFamily">
        </div>
        <div class="form-group">
          <label>
            Border Width
          </label>
          <input type="text" v-model="borderWidth">
        </div>
        <div class="form-group">
          <label>
            Border Color
          </label>
          <input type="text" v-model="borderColor">
        </div>
        <div class="form-group">
          <label>
            Height
          </label>
          <input type="text" v-model="height">
        </div>
        <div class="form-group">
          <label>
            Width
          </label>
          <input type="text" v-model="width">
        </div>
        <div class="form-group">
          <label>
            Text Offset Left
          </label>
          <input type="text" v-model="offsetLeft">
        </div>
        <div class="form-group">
          <label>
            Text
          </label>
          <textarea v-model="text" rows="5"></textarea>
        </div>
        <button @click="handleChange">Render</button>
      </div>
      <div class="result">
        <div class="draw">
          <div id="canvas">Loading...</div>
        </div>
        <div class="tips">
          <div class="tip">
            *Tip: Right click on the image above then click <br><code>Save as</code> to save.
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.12/vue.min.js"></script>
    <script>
      var $ = document.querySelector.bind(document);
      new Vue({
        el: '#app',
        data: {
          backgroundColor: 'yellow',
          fontSize: '24',
          fontColor: 'black',
          fontFamily: 'Arial',
          borderColor: 'black',
          borderWidth: '2',
          text: [
            'CSS',
            'IS',
            'AWESOME'
          ].join('\n'),
          offsetLeft: 10,
          height: 102,
          width: 'auto'
        },
        ready: function () {
          this.fill();
        },
        methods: {
          handleChange: function () {
            this.fill();
          },
          fill: function () {
            //Initial or Reinitial canvas element
            var existing = $('#canvas');
            if (existing) {
              existing.parentNode.removeChild(existing);
            }
            var canvas = document.createElement('canvas');
            canvas.id = 'canvas';
            canvas.setAttribute('height', this.height);
            canvas.setAttribute('width', this.width);
            $('.draw').appendChild(canvas);
            // draw canvas
            var context = canvas.getContext('2d');
            context.clearRect(1,1,100,100);
            // background
            context.fillStyle = this.backgroundColor;
            context.fillRect(1,1,100,100);
            context.font = this.fontSize + 'px ' + this.fontFamily;
            // border
            context.strokeStyle = this.borderColor;
            context.lineWidth = this.borderWidth;
            context.strokeRect(1, 1 ,100,100);
            // text
            context.fillStyle = this.fontColor;
            var text = this.text.split('\n')
            text.forEach(function (t, index) {
              context.fillText(t, this.offsetLeft, 28 + index * 30);
            }.bind(this));
            context.fill();
          }
        }
      })
    </script>
  </body>
</html>
